<div class="product">
  <div class="imageContainer">
    <img [src]="product.image ? product.image : 'bag.jpg'" alt="bag">
    <div class="favorite">

      @if(!favoriteProducts.includes(product)){
      <img (click)="favoriteClicked(product)" src="heart.svg" alt="favorite icon">
      }

      @if(favoriteProducts.includes(product)){
      <img (click)="unFavorite(product)" src="love.svg" alt="favorite icon">
      }

    </div>
    <div class="view">
      <img src="view.svg" alt="A quick view icon">
    </div>
    <div class="wishlist">
      <img src="cart1.svg" alt="a cart basket">
    </div>

    @if(product.tag || product.discount){
    <p [class]="{tag: true, discount: product.discount, hot: product.tag == 'HOT'}">{{product.discount ?
      calculateDiscount(product.price, product.discount) : product.tag}}
    </p>
    }

    <div class="buttonContainer" (click)="addToCart()">
      <button>ADD TO CART</button>
      <div><img src="bag.svg" alt="A shopping cart"></div>
    </div>
  </div>
  <div class="details">
    <p class="title">{{product.title}}</p>
    @if(product.discount){
    <p class="slashedPrice">${{product.price}} <span [class]="{
        inStock: product.quantity > 0,
        outOfStock: product.quantity < 1}">{{product.quantity > 0? "In stock" : "Out of stock"}}</span></p>
    <p class="discountPrice">${{product.discount}}</p>
    }@else {
    <p class="price">${{product.price}} <span [class]="{
          inStock: product.quantity > 0,
          outOfStock: product.quantity < 1}">{{product.quantity > 0? "In stock" : "Out of stock"}}</span>
    </p>
    }
  </div>
</div>